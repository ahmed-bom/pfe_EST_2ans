    <script>
        document.addEventListener("DOMContentLoaded", function () {
            console.log("DOM fully loaded and parsed");
            const createGameForm = document.querySelector("#createGameModal .modal-form");
            const createGameModal = document.getElementById("createGameModal");
            
            if (createGameForm) {
                createGameForm.addEventListener("submit", async function (event) {
                    event.preventDefault();
                    console.log("Create Game button clicked!");
                    
                    const gameTypeRadios = document.querySelectorAll('input[name="gameType"]');
                    let gameType = "public"; 
                    
                    for (const radio of gameTypeRadios) {
                        if (radio.checked) {
                            gameType = radio.value;
                            break;
                        }
                    }
                    
                    console.log(`Selected game type: ${gameType}`);
                    
                  
                    const apiUrl = `/new_game/${gameType}`;
                    
                    try {
                        const response = await fetch(apiUrl, {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/json",
                                "Accept": "application/json"
                            }
                        });
                        
                        if (!response.ok) {
                            throw new Error(`HTTP error! Status: ${response.status}`);
                        }
                        
                        const gameId = await response.text();
                        console.log(`Game ID: ${gameId}`);
                        
                        alert(`Game Created! ID: ${gameId}`);
                        createGameModal.classList.remove('active'); 
                        
              
                        window.location.href = `http://127.0.0.1:8000/${gameType}/${gameId}/player1`;
                        
                    } catch (error) {
                        console.error("Error creating game:", error);
                        alert("Failed to create game. Please try again. Error: " + error.message);
                    }
                });
            } else {
                console.error("Create game form element not found!");
            }
        });
    </script>